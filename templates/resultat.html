{% extends "base.html" %}
{% block title %}Résultat pour {{ res.nom_eleve }}{% endblock %}
{% block content %}
<div class="d-flex justify-content-between align-items-center">
    <div>
        <h2>Résultat pour : {{ res.nom_eleve }}</h2>
        <h5 class="text-muted">{{ classe.nom_classe }} - {{ classe.annee_scolaire }}</h5>
    </div>
    <a href="{{ url_for('main.analyser') }}" class="btn btn-secondary mb-3">Analyser un autre élève de cette classe</a>
</div>
<!-- ... Le reste du contenu (tableau, appréciation, justifications) ne change pas ... -->
<div class="card mb-3">
    <div class="card-header">1. Données Extraites</div>
    <div class="card-body">
        <table class="table table-sm table-bordered">
            <thead><tr><th>Matière</th><th>Moyenne</th><th>Appréciation</th></tr></thead>
            <tbody>
            {% for item in res.donnees_brutes.appreciations_matieres %}
                <tr>
                    <td>{{ item.matiere }}</td>
                    <td>{{ item.moyenne }}</td>
                    <td>{{ item.commentaire }}</td>
                </tr>
            {% endfor %}
            </tbody>
        </table>
    </div>
</div>
<div class="card mb-3">
    <div class="card-header">2. Proposition d'Appréciation</div>
    <div class="card-body">
        <textarea class="form-control" rows="5">{{ res.appreciation_principale }}</textarea>
    </div>
</div>
<div class="card mb-3">
    <div class="card-header">3. Justifications de l'IA</div>
    <div class="card-body bg-light">
        {{ res.justifications | markdown }}
    </div>
</div>
{% endblock %}